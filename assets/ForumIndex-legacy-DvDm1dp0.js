System.register(["./SiteScroll.vue_vue_type_script_setup_true_lang-legacy-CyqLAXUX.js","./TransformTexts.vue_vue_type_script_setup_true_lang-legacy-CoMIpIpe.js","./NavigationTempl.vue_vue_type_script_setup_true_lang-legacy-C8kFQetP.js","./DomainTime.vue_vue_type_script_setup_true_lang-legacy-4Yb59q0j.js","./index-legacy-BFXGaaKt.js","./posts-legacy-BlLzTKe4.js"],(function(e,t){"use strict";var r,l,a,n,s,o,i,m,d,c,u,x,p,v,f,h,b,g,y,w,_,j,k,T,E,S,O,I,M,z,U,$,A,H,N,C,F,V,D,L,W,Y,B;return{setters:[e=>{r=e._},e=>{l=e._},e=>{a=e.a,n=e.b,s=e._},e=>{o=e._},e=>{i=e.d,m=e.v,d=e.H,c=e.u,u=e.e,x=e.g,p=e.r,v=e.c,f=e.o,h=e.a,b=e.h,g=e.t,y=e.b,w=e.R,_=e.W,j=e.X,k=e.Y,T=e.f,E=e.M,S=e.z,O=e.Z,I=e.D,M=e.B,z=e._,U=e.x,$=e.$,A=e.y,H=e.F,N=e.A,C=e.C,F=e.E,V=e.G,D=e.V,L=e.J},e=>{W=e.u,Y=e.s,B=e.c}],execute:function(){var t=document.createElement("style");t.textContent=".transImage[data-v-67247612]{--imageTrans: invert(73%) sepia(13%) saturate(147%) hue-rotate(345deg) brightness(88%) contrast(85%) }.transImage[data-v-67247612]:hover{--imageTrans: filter: invert(24%) sepia(6%) saturate(733%) hue-rotate(353deg) brightness(93%) contrast(89%) }@keyframes scale-up-67247612{0%{scale:0}to{scale:1}}.scale-up[data-v-67247612]{animation:scale-up-67247612 .3s ease-out forwards}\n/*$vite$:1*/",document.head.appendChild(t);const R={class:"border-b w-full flex items-end font-bold cursor-pointer border-stone-400 text-stone-400 hover:mix-blend-difference"},q={class:"xl:pt-2 md:pt-1 max-md:pt-0.5"},G={class:"break-all line-clamp-2 text-stone-400/50 xl:w-[calc(1.25rem*20)] xl:text-[1.25rem] md:w-[calc(1rem*20)] md:text-[1rem] max-md:max-w-[calc(0.75rem*20)] max-md:text-[0.75rem]"},J={class:"break-all line-clamp-2 xl:w-[calc(1.5rem*20)] xl:text-[1.25rem] md:w-[calc(1rem*20)] md:text-[1rem] max-md:max-w-[calc(0.75rem*20)] max-md:text-[0.75rem]"},P={class:"flex flex-col ml-auto xl:text-[1.2rem] md:text-[1rem] max-md:text-[0.8rem]"},X={class:"flex justify-end gap-5"},Z={class:"flex gap-1 items-center"},K={class:"flex gap-1 items-center"},Q={class:"flex gap-1 items-center"},ee=i({__name:"ReviewArticleTempl",props:m({article:{}},{forumTemplModels:{},forumTemplModelsModifiers:{},reviewImageObject:{},reviewImageObjectModifiers:{}}),emits:["update:forumTemplModels","update:reviewImageObject"],setup(e){const t=d(),r=e,l=c(e,"forumTemplModels"),a=c(e,"reviewImageObject"),n=u(""),s=x((()=>l.value?.alias||r.article.alias)),i=x((()=>(n.value=l.value?.path||r.article.path,l.value?.path||r.article.path))),m=x((()=>l.value?.time||r.article.time)),_=x((()=>{const e=l.value?.analyze.rating||r.article.analyze.rating;return{nice:e.nice,bad:e.bad}})),j=x((()=>l.value?.analyze.views||r.article.analyze.views)),k=x((()=>{const e=l.value?.history.length||r.article.history.length;return l.value?.history[e-1].articleTitle||r.article.history[e-1].articleTitle})),T=()=>{a.value.isEnterElement=!1};return(e,r)=>{const l=p("Icon"),a=o;return f(),v("div",{onMouseleave:T},[h("div",{onClick:r[0]||(r[0]=e=>{return r=b(i),void t.push({path:r});var r})},[h("div",R,[h("span",q,[h("p",G,g(b(s)),1),h("p",J,g(b(k)),1)]),h("span",P,[h("div",X,[h("p",Z,[y(l,{icon:"ic:twotone-signal-cellular-alt",class:"xl:w-[1.2rem] xl:h-[1.2rem] md:w-[1rem] md:h-[1rem] max-md:w-[0.8rem] max-md:h-[0.8rem]"}),w(" "+g(b(j)),1)]),h("p",K,[y(l,{icon:"ic:round-thumb-up-alt",class:"xl:w-[1.2rem] xl:h-[1.2rem] md:w-[1rem] md:h-[1rem] max-md:w-[0.8rem] max-md:h-[0.8rem]"}),w(" "+g(b(_).nice),1)]),h("p",Q,[y(l,{icon:"ic:round-thumb-down-alt",class:"xl:w-[1.2rem] xl:h-[1.2rem] md:w-[1rem] md:h-[1rem] max-md:w-[0.8rem] max-md:h-[0.8rem]"}),w(" "+g(b(_).bad),1)])]),h("p",null,[y(a,{paramTime:b(m),fromNow:""},null,8,["paramTime"])])])])])],32)}}}),te=["src"],re=i({__name:"followWhatYouSee",props:{imageString:{},imageStringModifiers:{},isEnterElement:{type:Boolean},isEnterElementModifiers:{}},emits:["update:imageString","update:isEnterElement"],setup(e){_(j);const t=u(),r=c(e,"imageString"),l=c(e,"isEnterElement"),{x:a,y:n}=k();let s,o=0,i=0,m=0,d=0;return T((()=>{const e=()=>{o=a.value,i=n.value,m+=.08*(o-m),d+=.08*(i-d),t.value.style.top=`${d}px`,t.value.style.left=`${m}px`,s=requestAnimationFrame(e)};e()})),E((()=>{cancelAnimationFrame(s)})),(e,a)=>(f(),v("div",{ref_key:"movingDiv",ref:t,class:"absolute -z-10 pointer-events-none select-none"},[h("div",{class:"absolute -z-20 object-cover -translate-1/2 md:w-[202px] max-md:w-[122px] transition-[height] duration-[0.3s] bg-stone-700 mix-blend-difference",style:S({height:l.value?0:"0px"})},null,4),h("img",{src:r.value,class:"object-cover -translate-1/2 md:w-[200px] max-md:w-[120px] transition-[height] duration-[0.3s]",style:S({height:l.value?0:"0px"})},null,12,te)],512))}});var le="object"==typeof global&&global&&global.Object===Object&&global,ae="object"==typeof self&&self&&self.Object===Object&&self,ne=le||ae||Function("return this")(),se=ne.Symbol,oe=Object.prototype,ie=oe.hasOwnProperty,me=oe.toString,de=se?se.toStringTag:void 0,ce=Object.prototype.toString,ue=se?se.toStringTag:void 0;function xe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ue&&ue in Object(e)?function(e){var t=ie.call(e,de),r=e[de];try{e[de]=void 0;var l=!0}catch(n){}var a=me.call(e);return l&&(t?e[de]=r:delete e[de]),a}(e):function(e){return ce.call(e)}(e)}var pe=/\s/,ve=/^\s+/;function fe(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&pe.test(e.charAt(t)););return t}(e)+1).replace(ve,""):e}function he(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var be=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ye=/^0o[0-7]+$/i,we=parseInt;function _e(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==xe(e)}(e))return NaN;if(he(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=he(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=fe(e);var r=ge.test(e);return r||ye.test(e)?we(e.slice(2),r?2:8):be.test(e)?NaN:+e}var je=function(){return ne.Date.now()},ke=Math.max,Te=Math.min;function Ee(e,t,r){var l,a,n,s,o,i,m=0,d=!1,c=!1,u=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var r=l,n=a;return l=a=void 0,m=t,s=e.apply(n,r)}function p(e){var r=e-i;return void 0===i||r>=t||r<0||c&&e-m>=n}function v(){var e=je();if(p(e))return f(e);o=setTimeout(v,function(e){var r=t-(e-i);return c?Te(r,n-(e-m)):r}(e))}function f(e){return o=void 0,u&&l?x(e):(l=a=void 0,s)}function h(){var e=je(),r=p(e);if(l=arguments,a=this,i=e,r){if(void 0===o)return function(e){return m=e,o=setTimeout(v,t),d?x(e):s}(i);if(c)return clearTimeout(o),o=setTimeout(v,t),x(i)}return void 0===o&&(o=setTimeout(v,t)),s}return t=_e(t)||0,he(r)&&(d=!!r.leading,n=(c="maxWait"in r)?ke(_e(r.maxWait)||0,t):n,u="trailing"in r?!!r.trailing:u),h.cancel=function(){void 0!==o&&clearTimeout(o),m=0,l=i=a=o=void 0},h.flush=function(){return void 0===o?s:f(je())},h}const Se={ref:"root"},Oe={class:"[&>div]:xl:first:mt-[100px] [&>div]:md:first:mt-[80px] [&>div]:max-md:first:mt-[60px]"},Ie={class:"xl:flex-2/3 md:flex-3/4"},Me={class:"border-y border-stone-400 py-5 grid grid-cols-4"},ze={class:"p-2"},Ue={class:"transImage w-full h-full border relative text-stone-400 border-stone-400 hover:text-stone-700 hover:border-stone-700 flex items-end overflow-hidden xl:h-[120px] md:h-[100px] max-md:h-[70px] after:backdrop-blur-[2px] after:absolute after:content-[''] after:w-full after:h-full after:-z-20"},$e=["src"],Ae=["src"],He={class:"px-2 font-bold max-md:text-[0.8rem]"},Ne={class:"p-2"},Ce={class:"flex"},Fe=["disabled"],Ve=["disabled"],De={class:"flex-col flex xl:flex-1/3 md:flex-2/4"},Le={class:"md:sticky md:top-[100px] flex flex-col"},We={class:"font-bold xl:text-[6rem] md:text-[3rem] max-md:text-[2rem]"},Ye={class:"px-2"},Be={class:"flex gap-3 select-none flex-wrap"},Re={class:"flex"},qe={class:"flex"},Ge={class:"flex"},Je={class:"flex"},Pe={class:"w-[82%] xl:my-10 md:my-5 max-md:my-5 max-md:sticky max-md:top-[100px]"},Xe={ref:"searchForm",class:"relative group flex-7/12 flex items-center"},Ze={class:"absolute group-focus-within:text-stone-700 text-stone-400",for:"s"},Ke={type:"submit",class:"absolute right-0 hover:cursor-pointer hover:text-stone-700 text-stone-400 z-10"},Qe={class:"xl:flex-2/3 md:flex-2/4"};e("default",s(i({__name:"ForumIndex",setup(e){const t=W(),s=O({isEnterElement:!1,imageSource:""}),o=_(j),i=I(),m=x((()=>i.path.split("/")[1]||"index")),d=u([]),c=u([]),g=u([]),k=async()=>{const e=await B(m.value,{from:0,to:K.value,hot:!1});c.value=e.articles.value};T((()=>{(async()=>{const e=await B(m.value,{from:0,to:2,hot:!0});g.value=e.articles.value})(),(async()=>{const e=await L();d.value=e.topics.value})(),k()})),M(m,(()=>{c.value=[],K.value=10,k()}));const E=u(1),S=o?.value.fetchTopics??0,R=x((()=>({currentMax:E.value*S,currentMin:(E.value-1)*S}))),q=()=>{E.value-=1},G=()=>{E.value+=1},J=u("order");M(J,(()=>{Y(J.value,c.value)}));const P=u(""),X=x((()=>{const e=d.value.find((e=>e.name===m.value))??null,r=e?.nickname??"開始聊";return t.alias="同領地"===r?"開始聊":r,t.inArticleTitle="",e})),Z=u(!1),K=u(10),{y:Q}=z(),te=x((()=>{const e=document.documentElement.scrollHeight,t=window.innerHeight;return{scrollableHeight:e-t,currentScrollY:Q.value,windowHeight:t}})),le=Ee((async()=>{K.value+=10,console.log(K.value),await k()}),100),ae=x((()=>{const{scrollableHeight:e,currentScrollY:t,windowHeight:r}=te.value;return!Z.value&&t>0&&(Z.value=!0),!!(Z.value&&e-t<.1*r)}));return M(ae,(()=>{ae.value&&le()})),(e,t)=>{const o=re,i=a,u=ee,x=n,_=l,j=p("router-link"),k=p("Icon"),T=r;return f(),v("div",Se,[y(o,{isEnterElement:b(s).isEnterElement,"onUpdate:isEnterElement":t[0]||(t[0]=e=>b(s).isEnterElement=e),imageString:b(s).imageSource,"onUpdate:imageString":t[1]||(t[1]=e=>b(s).imageSource=e)},null,8,["isEnterElement","imageString"]),y(i),h("div",Oe,["index"===b(m)?(f(),U(x,{key:0,class:"xl:flex xl:item-start xl:py-20 md:flex md:item-start md:py-10 max-md:flex-col max-md:py-6"},{default:A((()=>[t[9]||(t[9]=h("h2",{class:"xl:text-[2.5rem] xl:flex-1/3 md:text-[2rem] md:flex-1/4 max-md:text-[1.5rem]"}," 熱門文章 ",-1)),h("div",Ie,[b(g).length>0?(f(!0),v(H,{key:0},N(b(g),(e=>(f(),U(u,{reviewImageObject:b(s),"onUpdate:reviewImageObject":t[2]||(t[2]=e=>C(s)?s.value=e:null),article:e},null,8,["reviewImageObject","article"])))),256)):(f(),v(H,{key:1},[w(" still loading... ")],64))])])),_:1})):$("",!0),y(x,{class:"!p-0 !py-10 select-none"},{default:A((()=>[h("div",Me,[b(d).length>0?(f(!0),v(H,{key:0},N(b(d).slice(b(R).currentMin,b(R).currentMax),(e=>(f(),v("div",ze,[y(j,{to:e.path},{default:A((()=>[h("div",Ue,[h("img",{src:`${e.image}`,class:"scale-up filter-[var(--imageTrans)] -right-4 -bottom-2 rounded-full absolute z-10w-20 h-20"},null,8,$e),h("img",{src:`${e.image}`,class:"scale-up filter-[var(--imageTrans)] -right-8 -bottom-4 rounded-full absolute opacity-20 z-10 w-40 h-40"},null,8,Ae),h("div",He,[y(_,{text:e.nickname},null,8,["text"])])])])),_:2},1032,["to"])])))),256)):(f(),v(H,{key:1},N(4,(e=>h("div",Ne,t[10]||(t[10]=[h("div",{class:"xl:h-[120px] animate-pulse bg-stone-400 md:h-[100px] max-md:h-[70px]"},null,-1)])))),64))]),h("div",Ce,[h("button",{disabled:1===b(E),class:"disabled:text-stone-400/50 disabled:cursor-not-allowed not-disabled:cursor-pointer enabled:hover:[&>svg]:-translate-x-10 flex-1/2 flex justify-center border-b border-r border-stone-400 py-1",onClick:q},[y(k,{class:"transition ease-in-out duration-300 transform xl:w-10 xl:h-10",icon:"stash:arrow-left-large-light"})],8,Fe),h("button",{disabled:b(E)>b(d).length/b(S),class:"disabled:text-stone-400/50 disabled:cursor-not-allowed not-disabled:cursor-pointer enabled:hover:[&>svg]:translate-x-10 flex-1/2 flex justify-center border-b border-stone-400 py-1",onClick:G},[y(k,{class:"transition ease-in-out duration-300 transform xl:w-10 xl:h-10",icon:"stash:arrow-right-large-light"})],8,Ve)])])),_:1}),y(x,{ref:"root",class:"w-full pt-10 xl:flex xl:item-start md:flex md:item-start max-lg:flex-col max-md:flex-col"},{default:A((()=>[h("div",De,[h("div",Le,[h("h2",We,[y(_,{text:b(X)?.nickname??"/*15a"},null,8,["text"])]),h("div",Ye,[y(_,{text:b(X)?.description??"/*13ad|15a"},null,8,["text"])]),h("div",Be,[h("div",Re,[F(h("input",{type:"radio",id:"order",name:"msg",value:"order","onUpdate:modelValue":t[3]||(t[3]=e=>C(J)?J.value=e:null),class:"hidden peer"},null,512),[[V,b(J)]]),t[11]||(t[11]=h("label",{for:"order",class:"border-dashed border-2 border-transparent hover:border-stone-400 flex items-center cursor-pointer text-stone-400 peer-checked:bg-stone-400 peer-checked:text-white rounded-full xl:py-1 xl:px-4 xl:text-[1rem] md:py-1 md:px-3 md:text-[0.8rem] max-md:py-0.5 max-md:px-2 max-md:text-[0.75rem]"}," 按順序 ",-1))]),h("div",qe,[F(h("input",{type:"radio",id:"newest",name:"msg",value:"newest","onUpdate:modelValue":t[4]||(t[4]=e=>C(J)?J.value=e:null),class:"hidden peer"},null,512),[[V,b(J)]]),t[12]||(t[12]=h("label",{for:"newest",class:"border-dashed border-2 border-transparent hover:border-stone-400 cursor-pointer text-stone-400 peer-checked:bg-stone-400 peer-checked:text-white rounded-full xl:py-1 xl:px-4 xl:text-[1rem] md:py-1 md:px-3 md:text-[0.8rem] max-md:py-0.5 max-md:px-2 max-md:text-[0.75rem]"}," 最新 ",-1))]),h("div",Ge,[F(h("input",{type:"radio",id:"mostLiked",name:"mostLiked",value:"mostLiked","onUpdate:modelValue":t[5]||(t[5]=e=>C(J)?J.value=e:null),class:"hidden peer"},null,512),[[V,b(J)]]),t[13]||(t[13]=h("label",{for:"mostLiked",class:"border-dashed border-2 border-transparent hover:border-stone-400 cursor-pointer text-stone-400 peer-checked:bg-stone-400 peer-checked:text-white rounded-full xl:py-1 xl:px-4 xl:text-[1rem] md:py-1 md:px-3 md:text-[0.8rem] max-md:py-0.5 max-md:px-2 max-md:text-[0.75rem]"}," 最多讚 ",-1))]),h("div",Je,[F(h("input",{type:"radio",id:"worst",name:"msg",value:"worst","onUpdate:modelValue":t[6]||(t[6]=e=>C(J)?J.value=e:null),class:"hidden peer"},null,512),[[V,b(J)]]),t[14]||(t[14]=h("label",{for:"worst",class:"border-dashed border-2 border-transparent hover:border-stone-400 cursor-pointer text-stone-400 peer-checked:bg-stone-400 peer-checked:text-white rounded-full xl:py-1 xl:px-4 xl:text-[1rem] md:py-1 md:px-3 md:text-[0.8rem] max-md:py-0.5 max-md:px-2 max-md:text-[0.75rem]"}," 最爛 ",-1))])]),h("div",Pe,[h("form",Xe,[h("label",Ze,[y(k,{icon:"ic:baseline-search",class:"xl:w-6 xl:h-6 md:w-4.5 md:h-4.5 max-md:w-4 max-md:h-4"})]),F(h("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>C(P)?P.value=e:null),type:"text",id:"s",placeholder:"文章搜尋...",class:"w-full xl:px-7 xl:h-10 xl:text-[1.2rem] md:px-5 md:h-8 md:text-[1rem] max-md:px-5 max-md:h-5 max-md:text-[1rem] outline-none bg-none border-b border-transparent relative border-b-stone-400 focus:border-b-stone-700"},null,512),[[D,b(P)]]),h("button",Ke,[y(k,{icon:"stash:arrow-right-large-light",class:"xl:w-6 xl:h-6 md:w-4.5 md:h-4.5 max-md:w-4 max-md:h-4"})])],512)])])]),h("div",Qe,[b(c).length>0?(f(!0),v(H,{key:0},N(b(c),(e=>(f(),U(u,{ref_for:!0,ref:"currentArticleScroll",reviewImageObject:b(s),"onUpdate:reviewImageObject":t[8]||(t[8]=e=>C(s)?s.value=e:null),article:e},null,8,["reviewImageObject","article"])))),256)):(f(),v(H,{key:1},[w(" still loading... ")],64))])])),_:1},512)]),y(T)],512)}}}),[["__scopeId","data-v-67247612"]]))}}}));
