System.register(["./SiteScroll.vue_vue_type_script_setup_true_lang-legacy-bl-ldlDW.js","./NavigationTempl.vue_vue_type_script_setup_true_lang-legacy-DDSnz4UI.js","./index-legacy-BJBbkO7S.js","./TipTap_Extensions-legacy-C6GL7S7B.js","./Constant-legacy-C2LnN0pO.js","./useArticle-legacy-4qfobXN-.js"],(function(e,t){"use strict";var n,l,r,a,o,s,i,u,c,d,p,m,f,v,b,x,h,g,y,w,I,T,E,S,k,A,M,P,O,D,_,F,L,R,N,j,C,B,U,H,$,z,K,V,q,W,G,J,X,Q,Y,Z,ee,te;return{setters:[e=>{n=e._},e=>{l=e._,r=e.d,a=e.D,o=e.g,s=e.u,i=e.a,u=e.b,c=e.c},e=>{d=e.d,p=e.u,m=e.a,f=e.r,v=e.o,b=e.b,x=e.c,h=e.e,g=e.n,y=e.w,w=e.f,I=e.g,T=e.t,E=e.h,S=e.i,k=e.j,A=e.k,M=e.l,P=e.m,O=e.p,D=e.q,_=e.s,F=e.F,L=e.v,R=e.x,N=e.y,j=e.z,C=e.A,B=e.B,U=e.C,H=e.T,$=e.D,z=e.E,K=e.G,V=e.H,q=e.I,W=e.J,G=e.K,J=e.L},e=>{X=e.g,Q=e.E},e=>{Y=e.O,Z=e.a,ee=e.A},e=>{te=e.s}],execute:function(){var t=document.createElement("style");t.textContent=':deep(p){@apply break-all;}:deep(strong){@apply font-bold text-stone-900;}:deep(mark){@apply mx-[2px] rounded bg-stone-300 px-[2px] text-inherit;}:deep(ul){@apply ml-5 flex list-disc flex-col;}:deep(ol){@apply ml-5 flex list-decimal flex-col;}:deep(li::marker){@apply text-stone-400;}:deep(h1),:deep(.ProseMirror > h1){@apply text-3xl text-pretty text-stone-500;}:deep(h2),:deep(.ProseMirror > h2){@apply text-2xl text-pretty text-stone-500;}:deep(hr){@apply mb-[.875rem] min-h-[.875rem] border-t-0 border-b-2 border-dashed border-b-stone-400;}:deep(.ProseMirror > hr){@apply mb-0 min-h-[1.75rem] rounded border-2 border-dashed border-stone-400;}:deep(blockquote){@apply border-l-[3px] border-l-stone-500 bg-stone-300 pl-2;}:deep(a){@apply cursor-pointer font-bold text-violet-500;}:deep(iframe){@apply lg:w-[624px-40px] xl:w-[42rem-40px];@apply lg:h-[3120px-40px] xl:h-[210rem-40px];}:deep(iframe){@apply max-md:max-w-[256px] md:max-w-[508px] xl:max-w-[612px] aspect-video;}:deep(a){@apply cursor-pointer font-bold [*]:text-violet-500;}@reference "tailwindcss";.isEditor[data-v-f850bd22]{@apply bg-[size:10px_10px];background-image:repeating-linear-gradient(315deg,var(--imageIsEditor) 0,var(--imageIsEditor) 1px,transparent 0,transparent 50%)}.isOverText[data-v-f850bd22]{@apply text-red-600 font-bold;}\n/*$vite$:1*/',document.head.appendChild(t);const ne=l({},[["render",function(e,t){return null}]]),le={class:"flex gap-1"},re=["disabled"],ae={class:"flex items-center p-1.5 rounded"},oe={class:"mr-1"},se=["disabled"],ie={class:"flex items-center p-1.5 rounded"},ue={class:"mr-1"},ce=d({__name:"RatingBarComponents",props:{ratingTable:{required:!0},ratingTableModifiers:{},rated:{},ratedModifiers:{}},emits:["update:ratingTable","update:rated"],setup(e){const t=p(),n=m(),l=r(a,"articles",t.article),i=f(),u=f(!1);v((async()=>{const e=await o(l);i.value=e.data().analyze,u.value=i.value.ratedLists?.hasOwnProperty(n.name),console.log(u)}));const c=async e=>{if(!i.value)return;d.value.nice+=e.nice??0,d.value.bad+=e.bad??0,u.value=!0,k.value={nice:e.nice??0,bad:e.bad??0};const t=i.value.rating.nice+k.value.nice,r=i.value.rating.bad+k.value.bad;await s(l,{analyze:{rating:{nice:t,bad:r},ratedLists:{[n.name]:e}}},{merge:!0})},d=b(e,"ratingTable"),k=b(e,"rated");return(e,t)=>{const n=E("Icon");return S(),x("div",le,[h("button",{disabled:w(u),onClick:t[0]||(t[0]=y((e=>c({nice:1})),["stop"])),class:g(["normal-button disabled:select-none disabled:text-stone-500/70",[{"select-none text-stone-500/70":k.value}]])},[h("div",ae,[h("p",oe,T(d.value.nice),1),I(n,{icon:"ic:sharp-thumb-up-alt",class:"w-5 h-5"})])],10,re),h("button",{disabled:w(u),onClick:t[1]||(t[1]=y((e=>c({bad:1})),["stop"])),class:g(["normal-button disabled:select-none disabled:text-stone-500/70",[{"select-none text-stone-500/70":k.value}]])},[h("div",ie,[h("p",ue,T(d.value.bad),1),I(n,{icon:"ic:sharp-thumb-down-alt",class:"w-5 h-5"})])],10,se)])}}}),de=["innerHTML"],pe=d({__name:"DArticle",props:{propsArticleTempl:{}},setup(e){const t=e,n=f("");v((()=>{const e=JSON.parse(t.propsArticleTempl.articleHtmlRef);n.value=X(e??'\n    {\n        "type":"doc",\n        "content":[{\n            "type":"paragraph",\n            "content":[{\n                "type":"text",\n                "text":" "\n            }]\n        }]\n    }\n',Q)}));const l=k((()=>{const e=t.propsArticleTempl?.isDomainFormat;return e}));return(e,t)=>(S(),x("article",{innerHTML:w(n),class:g([{"amDomain-format":w(l)}])},null,10,de))}});var me;let fe=Symbol("headlessui.useid"),ve=0;const be=null!=(me=A)?me:function(){return M(fe,(()=>""+ ++ve))()};function xe(e){var t;if(null==e||null==e.value)return null;let n=null!=(t=e.value.$el)?t:e.value;return n instanceof Node?n:null}function he(e,t,...n){if(e in t){let l=t[e];return"function"==typeof l?l(...n):l}let l=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,he),l}var ge=Object.defineProperty,ye=(e,t,n)=>(((e,t,n)=>{t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let we=new class{constructor(){ye(this,"current",this.detect()),ye(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}};function Ie(e){if(we.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(null!=e&&e.hasOwnProperty("value")){let t=xe(e);if(t)return t.ownerDocument}return document}let Te=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var Ee=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Ee||{}),Se=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Se||{}),ke=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(ke||{});function Ae(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(Te)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var Me=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Me||{});function Pe(e,t=0){var n;return e!==(null==(n=Ie(e))?void 0:n.body)&&he(t,{0:()=>e.matches(Te),1(){let t=e;for(;null!==t;){if(t.matches(Te))return!0;t=t.parentElement}return!1}})}function Oe(e){let t=Ie(e);P((()=>{t&&!Pe(t.activeElement,0)&&function(e){null==e||e.focus({preventScroll:!0})}(e)}))}var De=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(De||{});"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let _e=["textarea","input"].join(",");function Fe(e,t=e=>e){return e.slice().sort(((e,n)=>{let l=t(e),r=t(n);if(null===l||null===r)return 0;let a=l.compareDocumentPosition(r);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function Le(e,t){return function(e,t,{sorted:n=!0,relativeTo:l=null,skipElements:r=[]}={}){var a;let o=null!=(a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:null==e?void 0:e.ownerDocument)?a:document,s=Array.isArray(e)?n?Fe(e):e:Ae(e);r.length>0&&s.length>1&&(s=s.filter((e=>!r.includes(e)))),l=null!=l?l:o.activeElement;let i,u=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,s.indexOf(l))-1;if(4&t)return Math.max(0,s.indexOf(l))+1;if(8&t)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=32&t?{preventScroll:!0}:{},p=0,m=s.length;do{if(p>=m||p+m<=0)return 0;let e=c+p;if(16&t)e=(e+m)%m;else{if(e<0)return 3;if(e>=m)return 1}i=s[e],null==i||i.focus(d),p+=u}while(i!==o.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,_e))&&n}(i)&&i.select(),2}(Ae(),t,{relativeTo:e})}function Re(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0||/Android/gi.test(window.navigator.userAgent)}function Ne(e,t,n){we.isServer||O((l=>{document.addEventListener(e,t,n),l((()=>document.removeEventListener(e,t,n)))}))}function je(e,t,n=k((()=>!0))){function l(l,r){if(!n.value||l.defaultPrevented)return;let a=r(l);if(null===a||!a.getRootNode().contains(a))return;let o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e);for(let e of o){if(null===e)continue;let t=e instanceof HTMLElement?e:xe(e);if(null!=t&&t.contains(a)||l.composed&&l.composedPath().includes(t))return}return!Pe(a,Me.Loose)&&-1!==a.tabIndex&&l.preventDefault(),t(l,a)}let r=f(null);Ne("pointerdown",(e=>{var t,l;n.value&&(r.value=(null==(l=null==(t=e.composedPath)?void 0:t.call(e))?void 0:l[0])||e.target)}),!0),Ne("mousedown",(e=>{var t,l;n.value&&(r.value=(null==(l=null==(t=e.composedPath)?void 0:t.call(e))?void 0:l[0])||e.target)}),!0),Ne("click",(e=>{Re()||r.value&&(l(e,(()=>r.value)),r.value=null)}),!0),Ne("touchend",(e=>l(e,(()=>e.target instanceof HTMLElement?e.target:null))),!0),function(e,t,n){we.isServer||O((l=>{window.addEventListener(e,t,n),l((()=>window.removeEventListener(e,t,n)))}))}("blur",(e=>l(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}function Ce(e,t){if(e)return e;let n=null!=t?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function Be(e){return[e.screenX,e.screenY]}function Ue(){let e=f([-1,-1]);return{wasMoved(t){let n=Be(t);return(e.value[0]!==n[0]||e.value[1]!==n[1])&&(e.value=n,!0)},update(t){e.value=Be(t)}}}var He,$e=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))($e||{}),ze=((He=ze||{})[He.Unmount=0]="Unmount",He[He.Hidden=1]="Hidden",He);function Ke({visible:e=!0,features:t=0,ourProps:n,theirProps:l,...r}){var a;let o=We(l,n),s=Object.assign(r,{props:o});return e||2&t&&o.static?Ve(s):1&t?he(null==(a=o.unmount)||a?0:1,{0:()=>null,1:()=>Ve({...r,props:{...o,hidden:!0,style:{display:"none"}}})}):Ve(s)}function Ve({props:e,attrs:t,slots:n,slot:l,name:r}){var a,o;let{as:s,...i}=function(e,t=[]){let n=Object.assign({},e);for(let l of t)l in n&&delete n[l];return n}(e,["unmount","static"]),u=null==(a=n.default)?void 0:a.call(n,l),c={};if(l){let e=!1,t=[];for(let[n,r]of Object.entries(l))"boolean"==typeof r&&(e=!0),!0===r&&t.push(n);e&&(c["data-headlessui-state"]=t.join(" "))}if("template"===s){if(u=qe(null!=u?u:[]),Object.keys(i).length>0||Object.keys(t).length>0){let[e,...n]=null!=u?u:[];if(!function(e){return null!=e&&("string"==typeof e.type||"object"==typeof e.type||"function"==typeof e.type)}(e)||n.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${r} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(i).concat(Object.keys(t)).map((e=>e.trim())).filter(((e,t,n)=>n.indexOf(e)===t)).sort(((e,t)=>e.localeCompare(t))).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));let l=We(null!=(o=e.props)?o:{},i,c),a=D(e,l,!0);for(let t in l)t.startsWith("on")&&(a.props||(a.props={}),a.props[t]=l[t]);return a}return Array.isArray(u)&&1===u.length?u[0]:u}return _(s,Object.assign({},i,c),{default:()=>u})}function qe(e){return e.flatMap((e=>e.type===F?qe(e.children):[e]))}function We(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let l of e)for(let e in l)e.startsWith("on")&&"function"==typeof l[e]?(null!=n[e]||(n[e]=[]),n[e].push(l[e])):t[e]=l[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let l in n)Object.assign(t,{[l](e,...t){let r=n[l];for(let n of r){if(e instanceof Event&&e.defaultPrevented)return;n(e,...t)}}});return t}let Ge=Symbol("Context");var Je=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Je||{}),Xe=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Xe||{}),Qe=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Qe||{});function Ye(e,t){let n=t.resolveItems();if(n.length<=0)return null;let l=t.resolveActiveIndex(),r=null!=l?l:-1;switch(e.focus){case 0:for(let e=0;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return l;case 1:-1===r&&(r=n.length);for(let e=r-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return l;case 2:for(let e=r+1;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return l;case 3:for(let e=n.length-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return l;case 4:for(let l=0;l<n.length;++l)if(t.resolveId(n[l],l,n)===e.id)return l;return l;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}let Ze=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function et(e){var t,n;let l=null!=(t=e.innerText)?t:"",r=e.cloneNode(!0);if(!(r instanceof HTMLElement))return l;let a=!1;for(let s of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),a=!0;let o=a?null!=(n=r.innerText)?n:"":l;return Ze.test(o)&&(o=o.replace(Ze,"")),o}function tt(e){let t=f(""),n=f("");return()=>{let l=xe(e);if(!l)return"";let r=l.innerText;if(t.value===r)return n.value;let a=function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let e=n.split(" ").map((e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():et(t).trim()}return null})).filter(Boolean);if(e.length>0)return e.join(", ")}return et(e).trim()}(l).trim().toLowerCase();return t.value=r,n.value=a,a}}var nt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(nt||{}),lt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(lt||{});let rt=Symbol("MenuContext");function at(e){let t=M(rt,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,at),t}return t}let ot=d({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let l=f(1),r=f(null),a=f(null),o=f([]),s=f(""),i=f(null),u=f(1);function c(e=e=>e){let t=null!==i.value?o.value[i.value]:null,n=Fe(e(o.value.slice()),(e=>xe(e.dataRef.domRef))),l=t?n.indexOf(t):null;return-1===l&&(l=null),{items:n,activeItemIndex:l}}let d={menuState:l,buttonRef:r,itemsRef:a,items:o,searchQuery:s,activeItemIndex:i,activationTrigger:u,closeMenu:()=>{l.value=1,i.value=null},openMenu:()=>l.value=0,goToItem(e,t,n){let l=c(),r=Ye(e===Qe.Specific?{focus:Qe.Specific,id:t}:{focus:e},{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.disabled});s.value="",i.value=r,u.value=null!=n?n:1,o.value=l.items},search(e){let t=""!==s.value?0:1;s.value+=e.toLowerCase();let n=(null!==i.value?o.value.slice(i.value+t).concat(o.value.slice(0,i.value+t)):o.value).find((e=>e.dataRef.textValue.startsWith(s.value)&&!e.dataRef.disabled)),l=n?o.value.indexOf(n):-1;-1===l||l===i.value||(i.value=l,u.value=1)},clearSearch(){s.value=""},registerItem(e,t){let n=c((n=>[...n,{id:e,dataRef:t}]));o.value=n.items,i.value=n.activeItemIndex,u.value=1},unregisterItem(e){let t=c((t=>{let n=t.findIndex((t=>t.id===e));return-1!==n&&t.splice(n,1),t}));o.value=t.items,i.value=t.activeItemIndex,u.value=1}};return je([r,a],((e,t)=>{var n;d.closeMenu(),Pe(t,Me.Loose)||(e.preventDefault(),null==(n=xe(r))||n.focus())}),k((()=>0===l.value))),L(rt,d),function(e){L(Ge,e)}(k((()=>he(l.value,{0:Je.Open,1:Je.Closed})))),()=>{let r={open:0===l.value,close:d.closeMenu};return Ke({ourProps:{},theirProps:e,slot:r,slots:t,attrs:n,name:"Menu"})}}}),st=d({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:l}){var r;let a=null!=(r=e.id)?r:`headlessui-menu-button-${be()}`,o=at("MenuButton");function s(e){switch(e.key){case Xe.Space:case Xe.Enter:case Xe.ArrowDown:e.preventDefault(),e.stopPropagation(),o.openMenu(),P((()=>{var e;null==(e=xe(o.itemsRef))||e.focus({preventScroll:!0}),o.goToItem(Qe.First)}));break;case Xe.ArrowUp:e.preventDefault(),e.stopPropagation(),o.openMenu(),P((()=>{var e;null==(e=xe(o.itemsRef))||e.focus({preventScroll:!0}),o.goToItem(Qe.Last)}))}}function i(e){e.key===Xe.Space&&e.preventDefault()}function u(t){e.disabled||(0===o.menuState.value?(o.closeMenu(),P((()=>{var e;return null==(e=xe(o.buttonRef))?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),o.openMenu(),function(e){requestAnimationFrame((()=>requestAnimationFrame(e)))}((()=>{var e;return null==(e=xe(o.itemsRef))?void 0:e.focus({preventScroll:!0})}))))}l({el:o.buttonRef,$el:o.buttonRef});let c=function(e,t){let n=f(Ce(e.value.type,e.value.as));return v((()=>{n.value=Ce(e.value.type,e.value.as)})),O((()=>{var e;n.value||xe(t)&&xe(t)instanceof HTMLButtonElement&&(null==(e=xe(t))||!e.hasAttribute("type"))&&(n.value="button")})),n}(k((()=>({as:e.as,type:t.type}))),o.buttonRef);return()=>{var l;let r={open:0===o.menuState.value},{...d}=e;return Ke({ourProps:{ref:o.buttonRef,id:a,type:c.value,"aria-haspopup":"menu","aria-controls":null==(l=xe(o.itemsRef))?void 0:l.id,"aria-expanded":0===o.menuState.value,onKeydown:s,onKeyup:i,onClick:u},theirProps:d,slot:r,attrs:t,slots:n,name:"MenuButton"})}}}),it=d({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:l}){var r;let a=null!=(r=e.id)?r:`headlessui-menu-items-${be()}`,o=at("MenuItems"),s=f(null);function i(e){var t;switch(s.value&&clearTimeout(s.value),e.key){case Xe.Space:if(""!==o.searchQuery.value)return e.preventDefault(),e.stopPropagation(),o.search(e.key);case Xe.Enter:e.preventDefault(),e.stopPropagation(),null!==o.activeItemIndex.value&&(null==(t=xe(o.items.value[o.activeItemIndex.value].dataRef.domRef))||t.click()),o.closeMenu(),Oe(xe(o.buttonRef));break;case Xe.ArrowDown:return e.preventDefault(),e.stopPropagation(),o.goToItem(Qe.Next);case Xe.ArrowUp:return e.preventDefault(),e.stopPropagation(),o.goToItem(Qe.Previous);case Xe.Home:case Xe.PageUp:return e.preventDefault(),e.stopPropagation(),o.goToItem(Qe.First);case Xe.End:case Xe.PageDown:return e.preventDefault(),e.stopPropagation(),o.goToItem(Qe.Last);case Xe.Escape:e.preventDefault(),e.stopPropagation(),o.closeMenu(),P((()=>{var e;return null==(e=xe(o.buttonRef))?void 0:e.focus({preventScroll:!0})}));break;case Xe.Tab:e.preventDefault(),e.stopPropagation(),o.closeMenu(),P((()=>Le(xe(o.buttonRef),e.shiftKey?Ee.Previous:Ee.Next)));break;default:1===e.key.length&&(o.search(e.key),s.value=setTimeout((()=>o.clearSearch()),350))}}function u(e){e.key===Xe.Space&&e.preventDefault()}l({el:o.itemsRef,$el:o.itemsRef}),function({container:e,accept:t,walk:n,enabled:l}){O((()=>{let r=e.value;if(!r||void 0!==l&&!l.value)return;let a=Ie(e);if(!a)return;let o=Object.assign((e=>t(e)),{acceptNode:t}),s=a.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,o,!1);for(;s.nextNode();)n(s.currentNode)}))}({container:k((()=>xe(o.itemsRef))),enabled:k((()=>0===o.menuState.value)),accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let c=M(Ge,null),d=k((()=>null!==c?(c.value&Je.Open)===Je.Open:0===o.menuState.value));return()=>{var l,r;let s={open:0===o.menuState.value},{...c}=e;return Ke({ourProps:{"aria-activedescendant":null===o.activeItemIndex.value||null==(l=o.items.value[o.activeItemIndex.value])?void 0:l.id,"aria-labelledby":null==(r=xe(o.buttonRef))?void 0:r.id,id:a,onKeydown:i,onKeyup:u,role:"menu",tabIndex:0,ref:o.itemsRef},theirProps:c,slot:s,attrs:t,slots:n,features:$e.RenderStrategy|$e.Static,visible:d.value,name:"MenuItems"})}}}),ut=d({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:n,expose:l}){var r;let a=null!=(r=e.id)?r:`headlessui-menu-item-${be()}`,o=at("MenuItem"),s=f(null);l({el:s,$el:s});let i=k((()=>null!==o.activeItemIndex.value&&o.items.value[o.activeItemIndex.value].id===a)),u=tt(s),c=k((()=>({disabled:e.disabled,get textValue(){return u()},domRef:s})));function d(t){if(e.disabled)return t.preventDefault();o.closeMenu(),Oe(xe(o.buttonRef))}function p(){if(e.disabled)return o.goToItem(Qe.Nothing);o.goToItem(Qe.Specific,a)}v((()=>o.registerItem(a,c))),R((()=>o.unregisterItem(a))),O((()=>{0===o.menuState.value&&i.value&&0!==o.activationTrigger.value&&P((()=>{var e,t;return null==(t=null==(e=xe(s))?void 0:e.scrollIntoView)?void 0:t.call(e,{block:"nearest"})}))}));let m=Ue();function b(e){m.update(e)}function x(t){m.wasMoved(t)&&(e.disabled||i.value||o.goToItem(Qe.Specific,a,0))}function h(t){m.wasMoved(t)&&(e.disabled||i.value&&o.goToItem(Qe.Nothing))}return()=>{let{disabled:l,...r}=e,u={active:i.value,disabled:l,close:o.closeMenu};return Ke({ourProps:{id:a,ref:s,role:"menuitem",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,onClick:d,onFocus:p,onPointerenter:b,onMouseenter:b,onPointermove:x,onMousemove:x,onPointerleave:h,onMouseleave:h},theirProps:{...n,...r},slot:u,attrs:n,slots:t,name:"MenuItem"})}}});const ct={class:"inline-flex w-full justify-center p-2"},dt={class:"p-1"},pt=["onClick"],mt=d({__name:"OptionsComponents",props:N({options:{},setIcon:{},isLeftDir:{type:Boolean}},{currentOption:{required:!0},currentOptionModifiers:{}}),emits:["update:currentOption"],setup(e){const t=e,n=f(t.options[0].label),l=17*Math.max(...t.options.map((e=>e.label.length)))+"px",r=b(e,"currentOption");return(e,t)=>{const a=E("Icon");return S(),j(w(ot),{as:"div",class:"relative text-left text-sm font-semibold w-full h-full"},{default:C((()=>[e.setIcon?(S(),j(w(st),{key:0,class:"hover:cursor-pointer w-full h-full p-5"},{default:C((()=>[I(a,{icon:e.setIcon,class:"w-full h-full"},null,8,["icon"])])),_:1})):(S(),j(w(st),{key:1,class:"normal-button"},{default:C((()=>[h("div",ct,[h("p",{class:"text-right mr-2",style:B({width:l})},T(w(n)),5),I(a,{icon:"ic:sharp-keyboard-arrow-down",class:"w-5 h-5"})])])),_:1})),I(H,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:C((()=>[I(w(it),{class:g(["absolute z-20  mt-2 w-56 border-stone-400 border bg-stone-100 shadow-lg ring-1 ring-black/5 focus:outline-none",e.isLeftDir?"origin-top-left left-0":"origin-top-right right-0"])},{default:C((()=>[h("div",dt,[(S(!0),x(F,null,U(e.options,(e=>(S(),j(w(ut),{as:"template"},{default:C((({active:t})=>[h("button",{onClick:y((t=>(e=>{r.value=e.name,n.value=e.label})(e)),["stop"]),class:g([t?e.activeColor:e.color,"flex w-full items-center px-2 py-2 max-sm:text-sm"])},T(e.label),11,pt)])),_:2},1024)))),256))])])),_:1},8,["class"])])),_:1})])),_:1})}}}),ft={class:"border-r border-l border-b border-stone-400"},vt={class:"flex border-b border-stone-400 h-20 items-center"},bt={class:"ml-auto border-l border-dashed w-20 h-20 border-stone-400"},xt={class:"border-l border-dashed border-stone-400 w-20 h-20 flex justify-center items-center"},ht={class:"flex p-5"},gt={class:"flex mt-5 py-2 px-3"},yt=d({__name:"ArticleTempl",props:{propsArticleTempl:{}},setup(e){const t=e,n=k((()=>t.propsArticleTempl.history.map((e=>({label:e.tag,name:e.tag,...Y}))))),l=t.propsArticleTempl.history.length,r=f(l>1?l-1:0),a=f(r.value.toString());$(a,(()=>{r.value=Number(a.value)-1,console.log(Number(a.value)-1)}));const o=k((()=>(console.log(t.propsArticleTempl.history[r.value]),{articleHtmlRef:t.propsArticleTempl.history[r.value].articleHtmlRef,isDomainFormat:t.propsArticleTempl.history[r.value].isDomainFormat}))),s=f(""),i=k((()=>[Z.REPORT])),u=k((()=>t.propsArticleTempl.analyze.rating??{})),c=f({rated:t.propsArticleTempl.analyze.ratedLists||{nice:0,bad:0}});return(e,t)=>{const l=mt,r=pe,d=ce;return S(),x("div",ft,[h("div",vt,[h("span",bt,[I(l,{"set-icon":"ic:round-history",options:w(n),"current-option":w(a),"onUpdate:currentOption":t[0]||(t[0]=e=>z(a)?a.value=e:null)},null,8,["options","current-option"])]),h("span",xt,[I(l,{"set-icon":"ic:sharp-more-horiz",options:w(i),"current-option":w(s),"onUpdate:currentOption":t[1]||(t[1]=e=>z(s)?s.value=e:null)},null,8,["options","current-option"])])]),h("div",ht,[I(r,{propsArticleTempl:w(o)},null,8,["propsArticleTempl"])]),h("div",gt,[I(d,{ratingTable:w(u),models_rated:w(c),"onUpdate:models_rated":t[2]||(t[2]=e=>z(c)?c.value=e:null)},null,8,["ratingTable","models_rated"])])])}}}),wt={class:"relative [--imageIsEditor:var(--color-stone-400)]/50 block"},It={class:"relative h-full flex gap-1"},Tt={class:"p-1 h-10 w-10"},Et={ref:"DeleteButton",class:"DeleteButton w-full h-full rounded hover:cursor-pointer hover:bg-stone-500 hover:text-stone-100 flex items-center justify-center"},St=d({__name:"Image",setup(e,{expose:t}){const n=f(),l=f(),r=f(),a=f(),o=f(),s=e=>e>=1048576?Math.round(e/1048576)+"MB":e>=1024?Math.round(e/1024)+"KB":e+"B";return t({formatFileSize:s,initImage:()=>{l.value.src="",n.value?.classList.remove("isEditor"),r.value?.classList.remove("flex"),r.value?.classList.add("hidden"),a.value?.classList.remove("isOverText"),o.value?.classList.add("hidden")},settingImage:(e,t=0)=>{l.value.src=e,t&&(a.value.textContent=s(t),n.value?.classList.add("isEditor"),r.value?.classList.remove("hidden"),r.value?.classList.add("flex"),t>ee.FILESIZE&&a.value?.classList.add("isOverText"),t>ee.FILESIZE&&o.value?.classList.remove("hidden"))}}),(e,t)=>{const s=E("Icon");return S(),x("div",wt,[h("div",{ref_key:"Pattern",ref:n,class:g(["p-2 imageBackground flex w-full h-full"])},[h("img",{ref_key:"Image",ref:l,src:"",class:"imageSource flex object-cover rounded-lg max-sm:min-h-[270px] sm:h-[400px]"},null,512)],512),h("div",{ref_key:"Meta",ref:r,class:"hidden metaDiv absolute top-2 right-2 z-10 items-center h-10 bg-stone-200 rounded"},[h("span",It,[h("p",{ref_key:"FileSizeText",ref:a,class:g(["imageSizeText flex h-full items-center px-2"])},"0kb",512),h("div",{ref_key:"IsFileSizeOverEffect",ref:o,class:g(["absolute h-3 w-3 right-0 top-0 imageSizeEffect hidden"])},t[0]||(t[0]=[h("span",{class:"animate-ping absolute h-3 w-3 rounded-full bg-red-600 opacity-75"},null,-1),h("span",{class:"absolute h-3 w-3 rounded-full bg-red-600"},null,-1)]),512)]),h("div",Tt,[h("button",Et,[I(s,{icon:"ic:outline-close",class:"w-full h-full p-1"})],512)])],512)])}}}),kt=l(St,[["__scopeId","data-v-f850bd22"]]),At={class:"absolute -z-10"},Mt={class:"[&>div]:xl:first:mt-[100px] [&>div]:md:first:mt-[80px] [&>div]:max-md:first:mt-[60px]"},Pt={key:0,class:"flex w-full justify-between bg-stone-100"},Ot={class:"md:flex max-md:hidden xl:w-[600px] md:w-[400px] flex-col"},Dt={class:"sticky top-[100px]"},_t={class:"text-stone-400 line-clamp-1 text-[0.8rem]"},Ft={class:"line-clamp-1"},Lt={class:"text-[1.2rem]"},Rt={class:"line-clamp-1"},Nt={class:"line-clamp-1"},jt={class:"flex flex-col xl:w-[calc(100%-600px)] md:w-[calc(100%-400px)] max-md:w-full"},Ct={class:"w-full xl:max-w-[654px] md:max-w-[550px] xl:min-h-[calc(100dvh-100px-(1.25rem*2))] md:min-h-[calc(100dvh-80px-(1rem*2))] max-md:min-h-[calc(100dvh-60px)]"},Bt={class:"mt-10 flex gap-3 select-none flex-wrap"},Ut={class:"flex"},Ht={class:"flex"},$t={key:1,class:"bg-stone-100 h-dvh"};e("default",d({__name:"ArticlePage",setup(e){const t=p();W();const l=G(),s=k((()=>t.article)),d=f(),m=f([]),b=f("order");$(b,(()=>{te(b.value,m.value)}));const g=f();v((()=>{(async()=>{const e=r(a,"articles",s.value),t=await o(e);console.log(t.data()),d.value=t.data(),m.value=d.value.messages})()}));const y={index:"同領地",letsTalking:"開始聊",asking:"詢問",experience:"心得",feedback:"反饋意見"},E=k((()=>(t.topic=d.value?.alias??"letsTalking",y[d.value?.alias]??"a1*3/3."))),A=k((()=>{const e=d.value?d.value?.history.length-1:0;return console.log(d.value?.history[e].articleTitle),d.value?.history[e].articleTitle??"a1*3/3."})),M=()=>{l.push("/"+d.value?.alias)},P=f(),O=f(),D=e=>{switch(e){case P.value.id:P.value?.scrollIntoView();break;case O.value.id:O.value?.scrollIntoView()}};return(e,t)=>{const r=i,a=c,o=u,s=yt,p=ne,f=n;return S(),x(F,null,[I(r),h("div",At,[K(I(kt,{ref_key:"imageFrameTempl",ref:g},null,512),[[J,!0]])]),h("div",Mt,[w(d)?(S(),x("div",Pt,[h("div",Ot,[h("div",Dt,[I(o,{class:"pt-5 flex flex-col xl:min-h-[calc(100dvh-100px-(1.25rem*2))] md:min-h-[calc(100dvh-80px-(1rem*2))] max-md:min-h-[calc(100dvh-60px)]"},{default:C((()=>[h("p",_t,[I(a,{text:"你處在"})]),h("p",Ft,[I(a,{text:w(E)},null,8,["text"])]),h("h2",Lt,[h("p",Rt,T(w(A)),1)]),h("button",{onClick:M,class:"mt-10 flex items-center gap-2 text-stone-400 font-bold text-[1.1rem] border p-2 hover:text-stone-700 hover:cursor-pointer line-clamp-1"},[h("p",Nt,T(`回到*${w(E)}*討論區`),1)]),h("button",{onClick:t[0]||(t[0]=e=>D("top")),class:"mt-3 flex items-center gap-2 text-stone-400 font-bold text-[1.1rem] border p-2 hover:text-stone-700 hover:cursor-pointer"},t[5]||(t[5]=[h("p",{class:"line-clamp-1"},"最上方",-1)])),h("button",{onClick:t[1]||(t[1]=e=>D("msg")),class:"mt-3 flex items-center gap-2 text-stone-400 font-bold text-[1.1rem] border p-2 hover:text-stone-700 hover:cursor-pointer"},t[6]||(t[6]=[h("p",{class:"line-clamp-1"},"留言區",-1)]))])),_:1})])]),h("div",jt,[h("div",Ct,[h("div",{ref_key:"topElement",ref:P,id:"top",class:""},[I(s,{propsArticleTempl:w(d)},null,8,["propsArticleTempl"])],512),h("div",{ref_key:"msgElement",ref:O,id:"msg",class:"w-full"},[w(m)&&w(m).length>0?(S(),x(F,{key:0},[h("div",Bt,[h("div",Ut,[K(h("input",{type:"radio",id:"order",name:"msg",value:"order","onUpdate:modelValue":t[2]||(t[2]=e=>z(b)?b.value=e:null),class:"hidden peer"},null,512),[[q,w(b)]]),t[7]||(t[7]=h("label",{for:"order",class:"border-dashed border-2 border-transparent hover:border-stone-400 flex items-center cursor-pointer text-stone-400 peer-checked:bg-stone-400 peer-checked:text-white rounded-full xl:py-1 xl:px-4 xl:text-[1rem] md:py-1 md:px-3 md:text-[0.8rem] max-md:py-0.5 max-md:px-2 max-md:text-[0.75rem]"}," 按順序 ",-1))]),h("div",Ht,[K(h("input",{type:"radio",id:"newest",name:"msg",value:"newest","onUpdate:modelValue":t[3]||(t[3]=e=>z(b)?b.value=e:null),class:"hidden peer"},null,512),[[q,w(b)]]),t[8]||(t[8]=h("label",{for:"newest",class:"border-dashed border-2 border-transparent hover:border-stone-400 cursor-pointer text-stone-400 peer-checked:bg-stone-400 peer-checked:text-white rounded-full xl:py-1 xl:px-4 xl:text-[1rem] md:py-1 md:px-3 md:text-[0.8rem] max-md:py-0.5 max-md:px-2 max-md:text-[0.75rem]"}," 最新 ",-1))])]),(S(!0),x(F,null,U(w(m),((e,t)=>(S(),j(p,{key:e.time,propsMessageTempl:e},null,8,["propsMessageTempl"])))),128))],64)):V("",!0),I(o,{class:"flex justify-center my-10"},{default:C((()=>[h("button",{class:"p-2 rounded border-2 border-dashed font-bold text-[1.2rem] text-stone-400 border-stone-400 select-none hover:text-stone-700 hover:border-stone-700 cursor-pointer",onClick:t[4]||(t[4]=e=>w(l).push("/posts"))},"來留個言吧！")])),_:1})],512)])])])):(S(),x("div",$t))]),I(f)],64)}}}))}}}));
