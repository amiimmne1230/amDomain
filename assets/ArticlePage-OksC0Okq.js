import{_ as Ae}from"./SiteScroll.vue_vue_type_script_setup_true_lang-CfWiQFuz.js";import{_ as re,a as Me,b as De}from"./NavigationTempl.vue_vue_type_script_setup_true_lang-CSK8ujEO.js";import{d as M,u as Q,c as A,a as d,n as P,w as Y,b as I,t as U,r as oe,o as k,e as x,f as q,g as T,h as _,i as Fe,j as le,k as R,l as V,m as Pe,p as Le,F as B,q as xe,s as Re,v as Ne,x as N,y as F,z as Ce,A as _e,T as je,B as Be,C as L,D as Ue,E as j,G as K,H as He,I as Ve}from"./index-oIKjAE_j.js";import{g as ze,E as Ke}from"./TipTap_Extensions-BD1jFcVz.js";import{O as We,a as qe,A as de,u as Ge,b as Xe}from"./posts-BUwJ332X.js";import{_ as Ze}from"./TransformTexts.vue_vue_type_script_setup_true_lang-LEzBD-aO.js";const Je={};function Qe(e,n){return null}const Ye=re(Je,[["render",Qe]]),et={class:"flex gap-1"},tt=["disabled"],nt={class:"flex items-center p-1.5 rounded"},rt={class:"mr-1"},ot=["disabled"],lt={class:"flex items-center p-1.5 rounded"},st={class:"mr-1"},at=M({__name:"RatingBarComponents",props:{ratingTable:{required:!0},ratingTableModifiers:{},rated:{},ratedModifiers:{}},emits:["update:ratingTable","update:rated"],setup(e){const n=a=>{l.value=a},o=Q(e,"ratingTable"),l=Q(e,"rated");return(a,r)=>{const t=oe("Icon");return k(),A("div",et,[d("button",{disabled:l.value!==void 0,onClick:r[0]||(r[0]=Y(i=>n({nice:1}),["stop"])),class:P(["normal-button",[{"disabled:text-stone-500/70 disabled:select-none":l.value}]])},[d("div",nt,[d("p",rt,U(o.value.nice),1),I(t,{icon:"ic:sharp-thumb-up-alt",class:"w-5 h-5"})])],10,tt),d("button",{disabled:l.value!==void 0,onClick:r[1]||(r[1]=Y(i=>n({bad:1}),["stop"])),class:P(["normal-button",[{"disabled:text-stone-500/70 disabled:select-none":l.value}]])},[d("div",lt,[d("p",st,U(o.value.bad),1),I(t,{icon:"ic:sharp-thumb-down-alt",class:"w-5 h-5"})])],10,ot)])}}}),it=["innerHTML"],ut='\n    {\n        "type":"doc",\n        "content":[{\n            "type":"paragraph",\n            "content":[{\n                "type":"text",\n                "text":" "\n            }]\n        }]\n    }\n',ct=M({__name:"DArticle",props:{propsArticleTempl:{}},setup(e){const n=e,o=x("");q(()=>{const a=JSON.parse(n.propsArticleTempl.articleHtmlRef);o.value=ze(a!=null?a:ut,Ke)});const l=T(()=>{var r;return(r=n.propsArticleTempl)==null?void 0:r.isDomainFormat});return(a,r)=>(k(),A("article",{innerHTML:_(o),class:P([{"amDomain-format":_(l)}])},null,10,it))}}),dt=re(ct,[["__scopeId","data-v-8c97b01e"]]);var pe;let pt=Symbol("headlessui.useid"),ft=0;const se=(pe=Fe)!=null?pe:function(){return le(pt,()=>"".concat(++ft))()};function w(e){var n;if(e==null||e.value==null)return null;let o=(n=e.value.$el)!=null?n:e.value;return o instanceof Node?o:null}function G(e,n,...o){if(e in n){let a=n[e];return typeof a=="function"?a(...o):a}let l=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(n).map(a=>'"'.concat(a,'"')).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(l,G),l}var mt=Object.defineProperty,vt=(e,n,o)=>n in e?mt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,fe=(e,n,o)=>(vt(e,typeof n!="symbol"?n+"":n,o),o);let ht=class{constructor(){fe(this,"current",this.detect()),fe(this,"currentId",0)}set(n){this.current!==n&&(this.currentId=0,this.current=n)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},ae=new ht;function ie(e){if(ae.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let n=w(e);if(n)return n.ownerDocument}return document}let ee=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>"".concat(e,":not([tabindex='-1'])")).join(",");var te=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(te||{}),bt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(bt||{}),gt=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(gt||{});function ye(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ee)).sort((n,o)=>Math.sign((n.tabIndex||Number.MAX_SAFE_INTEGER)-(o.tabIndex||Number.MAX_SAFE_INTEGER)))}var ue=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ue||{});function ce(e,n=0){var o;return e===((o=ie(e))==null?void 0:o.body)?!1:G(n,{0(){return e.matches(ee)},1(){let l=e;for(;l!==null;){if(l.matches(ee))return!0;l=l.parentElement}return!1}})}function we(e){let n=ie(e);R(()=>{n&&!ce(n.activeElement,0)&&_t(e)})}var xt=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(xt||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function _t(e){e==null||e.focus({preventScroll:!0})}let yt=["textarea","input"].join(",");function wt(e){var n,o;return(o=(n=e==null?void 0:e.matches)==null?void 0:n.call(e,yt))!=null?o:!1}function Ie(e,n=o=>o){return e.slice().sort((o,l)=>{let a=n(o),r=n(l);if(a===null||r===null)return 0;let t=a.compareDocumentPosition(r);return t&Node.DOCUMENT_POSITION_FOLLOWING?-1:t&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function It(e,n){return Tt(ye(),n,{relativeTo:e})}function Tt(e,n,{sorted:o=!0,relativeTo:l=null,skipElements:a=[]}={}){var r;let t=(r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?r:document,i=Array.isArray(e)?o?Ie(e):e:ye(e);a.length>0&&i.length>1&&(i=i.filter(c=>!a.includes(c))),l=l!=null?l:t.activeElement;let m=(()=>{if(n&5)return 1;if(n&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),b=(()=>{if(n&1)return 0;if(n&2)return Math.max(0,i.indexOf(l))-1;if(n&4)return Math.max(0,i.indexOf(l))+1;if(n&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=n&32?{preventScroll:!0}:{},p=0,s=i.length,u;do{if(p>=s||p+s<=0)return 0;let c=b+p;if(n&16)c=(c+s)%s;else{if(c<0)return 3;if(c>=s)return 1}u=i[c],u==null||u.focus(f),p+=m}while(u!==t.activeElement);return n&6&&wt(u)&&u.select(),2}function Et(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function kt(){return/Android/gi.test(window.navigator.userAgent)}function St(){return Et()||kt()}function W(e,n,o){ae.isServer||V(l=>{document.addEventListener(e,n,o),l(()=>document.removeEventListener(e,n,o))})}function $t(e,n,o){ae.isServer||V(l=>{window.addEventListener(e,n,o),l(()=>window.removeEventListener(e,n,o))})}function Ot(e,n,o=T(()=>!0)){function l(r,t){if(!o.value||r.defaultPrevented)return;let i=t(r);if(i===null||!i.getRootNode().contains(i))return;let m=function b(f){return typeof f=="function"?b(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let b of m){if(b===null)continue;let f=b instanceof HTMLElement?b:w(b);if(f!=null&&f.contains(i)||r.composed&&r.composedPath().includes(f))return}return!ce(i,ue.Loose)&&i.tabIndex!==-1&&r.preventDefault(),n(r,i)}let a=x(null);W("pointerdown",r=>{var t,i;o.value&&(a.value=((i=(t=r.composedPath)==null?void 0:t.call(r))==null?void 0:i[0])||r.target)},!0),W("mousedown",r=>{var t,i;o.value&&(a.value=((i=(t=r.composedPath)==null?void 0:t.call(r))==null?void 0:i[0])||r.target)},!0),W("click",r=>{St()||a.value&&(l(r,()=>a.value),a.value=null)},!0),W("touchend",r=>l(r,()=>r.target instanceof HTMLElement?r.target:null),!0),$t("blur",r=>l(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function me(e,n){if(e)return e;let o=n!=null?n:"button";if(typeof o=="string"&&o.toLowerCase()==="button")return"button"}function At(e,n){let o=x(me(e.value.type,e.value.as));return q(()=>{o.value=me(e.value.type,e.value.as)}),V(()=>{var l;o.value||w(n)&&w(n)instanceof HTMLButtonElement&&!((l=w(n))!=null&&l.hasAttribute("type"))&&(o.value="button")}),o}function ve(e){return[e.screenX,e.screenY]}function Mt(){let e=x([-1,-1]);return{wasMoved(n){let o=ve(n);return e.value[0]===o[0]&&e.value[1]===o[1]?!1:(e.value=o,!0)},update(n){e.value=ve(n)}}}function Dt({container:e,accept:n,walk:o,enabled:l}){V(()=>{let a=e.value;if(!a||l!==void 0&&!l.value)return;let r=ie(e);if(!r)return;let t=Object.assign(m=>n(m),{acceptNode:n}),i=r.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,t,!1);for(;i.nextNode();)o(i.currentNode)})}var ne=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ne||{}),Ft=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ft||{});function X({visible:e=!0,features:n=0,ourProps:o,theirProps:l,...a}){var r;let t=Ee(l,o),i=Object.assign(a,{props:t});if(e||n&2&&t.static)return J(i);if(n&1){let m=(r=t.unmount)==null||r?0:1;return G(m,{0(){return null},1(){return J({...a,props:{...t,hidden:!0,style:{display:"none"}}})}})}return J(i)}function J({props:e,attrs:n,slots:o,slot:l,name:a}){var r,t;let{as:i,...m}=Pt(e,["unmount","static"]),b=(r=o.default)==null?void 0:r.call(o,l),f={};if(l){let p=!1,s=[];for(let[u,c]of Object.entries(l))typeof c=="boolean"&&(p=!0),c===!0&&s.push(u);p&&(f["data-headlessui-state"]=s.join(" "))}if(i==="template"){if(b=Te(b!=null?b:[]),Object.keys(m).length>0||Object.keys(n).length>0){let[p,...s]=b!=null?b:[];if(!Lt(p)||s.length>0)throw new Error(['Passing props on "template"!',"","The current component <".concat(a,' /> is rendering a "template".'),"However we need to passthrough the following props:",Object.keys(m).concat(Object.keys(n)).map(v=>v.trim()).filter((v,y,h)=>h.indexOf(v)===y).sort((v,y)=>v.localeCompare(y)).map(v=>"  - ".concat(v)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>"  - ".concat(v)).join("\n")].join("\n"));let u=Ee((t=p.props)!=null?t:{},m,f),c=Pe(p,u,!0);for(let v in u)v.startsWith("on")&&(c.props||(c.props={}),c.props[v]=u[v]);return c}return Array.isArray(b)&&b.length===1?b[0]:b}return Le(i,Object.assign({},m,f),{default:()=>b})}function Te(e){return e.flatMap(n=>n.type===B?Te(n.children):[n])}function Ee(...e){if(e.length===0)return{};if(e.length===1)return e[0];let n={},o={};for(let l of e)for(let a in l)a.startsWith("on")&&typeof l[a]=="function"?(o[a]!=null||(o[a]=[]),o[a].push(l[a])):n[a]=l[a];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(o).map(l=>[l,void 0])));for(let l in o)Object.assign(n,{[l](a,...r){let t=o[l];for(let i of t){if(a instanceof Event&&a.defaultPrevented)return;i(a,...r)}}});return n}function Pt(e,n=[]){let o=Object.assign({},e);for(let l of n)l in o&&delete o[l];return o}function Lt(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let ke=Symbol("Context");var H=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(H||{});function Rt(){return le(ke,null)}function Nt(e){xe(ke,e)}var E=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(E||{});function Ct(e){throw new Error("Unexpected object: "+e)}var S=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(S||{});function jt(e,n){let o=n.resolveItems();if(o.length<=0)return null;let l=n.resolveActiveIndex(),a=l!=null?l:-1;switch(e.focus){case 0:{for(let r=0;r<o.length;++r)if(!n.resolveDisabled(o[r],r,o))return r;return l}case 1:{a===-1&&(a=o.length);for(let r=a-1;r>=0;--r)if(!n.resolveDisabled(o[r],r,o))return r;return l}case 2:{for(let r=a+1;r<o.length;++r)if(!n.resolveDisabled(o[r],r,o))return r;return l}case 3:{for(let r=o.length-1;r>=0;--r)if(!n.resolveDisabled(o[r],r,o))return r;return l}case 4:{for(let r=0;r<o.length;++r)if(n.resolveId(o[r],r,o)===e.id)return r;return l}case 5:return null;default:Ct(e)}}let he=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function be(e){var n,o;let l=(n=e.innerText)!=null?n:"",a=e.cloneNode(!0);if(!(a instanceof HTMLElement))return l;let r=!1;for(let i of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),r=!0;let t=r?(o=a.innerText)!=null?o:"":l;return he.test(t)&&(t=t.replace(he,"")),t}function Bt(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let o=e.getAttribute("aria-labelledby");if(o){let l=o.split(" ").map(a=>{let r=document.getElementById(a);if(r){let t=r.getAttribute("aria-label");return typeof t=="string"?t.trim():be(r).trim()}return null}).filter(Boolean);if(l.length>0)return l.join(", ")}return be(e).trim()}function Ut(e){let n=x(""),o=x("");return()=>{let l=w(e);if(!l)return"";let a=l.innerText;if(n.value===a)return o.value;let r=Bt(l).trim().toLowerCase();return n.value=a,o.value=r,r}}var Ht=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ht||{}),Vt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Vt||{});function zt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Se=Symbol("MenuContext");function Z(e){let n=le(Se,null);if(n===null){let o=new Error("<".concat(e," /> is missing a parent <Menu /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(o,Z),o}return n}let Kt=M({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:n,attrs:o}){let l=x(1),a=x(null),r=x(null),t=x([]),i=x(""),m=x(null),b=x(1);function f(s=u=>u){let u=m.value!==null?t.value[m.value]:null,c=Ie(s(t.value.slice()),y=>w(y.dataRef.domRef)),v=u?c.indexOf(u):null;return v===-1&&(v=null),{items:c,activeItemIndex:v}}let p={menuState:l,buttonRef:a,itemsRef:r,items:t,searchQuery:i,activeItemIndex:m,activationTrigger:b,closeMenu:()=>{l.value=1,m.value=null},openMenu:()=>l.value=0,goToItem(s,u,c){let v=f(),y=jt(s===S.Specific?{focus:S.Specific,id:u}:{focus:s},{resolveItems:()=>v.items,resolveActiveIndex:()=>v.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.disabled});i.value="",m.value=y,b.value=c!=null?c:1,t.value=v.items},search(s){let u=i.value!==""?0:1;i.value+=s.toLowerCase();let c=(m.value!==null?t.value.slice(m.value+u).concat(t.value.slice(0,m.value+u)):t.value).find(y=>y.dataRef.textValue.startsWith(i.value)&&!y.dataRef.disabled),v=c?t.value.indexOf(c):-1;v===-1||v===m.value||(m.value=v,b.value=1)},clearSearch(){i.value=""},registerItem(s,u){let c=f(v=>[...v,{id:s,dataRef:u}]);t.value=c.items,m.value=c.activeItemIndex,b.value=1},unregisterItem(s){let u=f(c=>{let v=c.findIndex(y=>y.id===s);return v!==-1&&c.splice(v,1),c});t.value=u.items,m.value=u.activeItemIndex,b.value=1}};return Ot([a,r],(s,u)=>{var c;p.closeMenu(),ce(u,ue.Loose)||(s.preventDefault(),(c=w(a))==null||c.focus())},T(()=>l.value===0)),xe(Se,p),Nt(T(()=>G(l.value,{0:H.Open,1:H.Closed}))),()=>{let s={open:l.value===0,close:p.closeMenu};return X({ourProps:{},theirProps:e,slot:s,slots:n,attrs:o,name:"Menu"})}}}),ge=M({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:o,expose:l}){var a;let r=(a=e.id)!=null?a:"headlessui-menu-button-".concat(se()),t=Z("MenuButton");l({el:t.buttonRef,$el:t.buttonRef});function i(p){switch(p.key){case E.Space:case E.Enter:case E.ArrowDown:p.preventDefault(),p.stopPropagation(),t.openMenu(),R(()=>{var s;(s=w(t.itemsRef))==null||s.focus({preventScroll:!0}),t.goToItem(S.First)});break;case E.ArrowUp:p.preventDefault(),p.stopPropagation(),t.openMenu(),R(()=>{var s;(s=w(t.itemsRef))==null||s.focus({preventScroll:!0}),t.goToItem(S.Last)});break}}function m(p){switch(p.key){case E.Space:p.preventDefault();break}}function b(p){e.disabled||(t.menuState.value===0?(t.closeMenu(),R(()=>{var s;return(s=w(t.buttonRef))==null?void 0:s.focus({preventScroll:!0})})):(p.preventDefault(),t.openMenu(),zt(()=>{var s;return(s=w(t.itemsRef))==null?void 0:s.focus({preventScroll:!0})})))}let f=At(T(()=>({as:e.as,type:n.type})),t.buttonRef);return()=>{var p;let s={open:t.menuState.value===0},{...u}=e,c={ref:t.buttonRef,id:r,type:f.value,"aria-haspopup":"menu","aria-controls":(p=w(t.itemsRef))==null?void 0:p.id,"aria-expanded":t.menuState.value===0,onKeydown:i,onKeyup:m,onClick:b};return X({ourProps:c,theirProps:u,slot:s,attrs:n,slots:o,name:"MenuButton"})}}}),Wt=M({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:n,slots:o,expose:l}){var a;let r=(a=e.id)!=null?a:"headlessui-menu-items-".concat(se()),t=Z("MenuItems"),i=x(null);l({el:t.itemsRef,$el:t.itemsRef}),Dt({container:T(()=>w(t.itemsRef)),enabled:T(()=>t.menuState.value===0),accept(s){return s.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:s.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(s){s.setAttribute("role","none")}});function m(s){var u;switch(i.value&&clearTimeout(i.value),s.key){case E.Space:if(t.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),t.search(s.key);case E.Enter:if(s.preventDefault(),s.stopPropagation(),t.activeItemIndex.value!==null){let c=t.items.value[t.activeItemIndex.value];(u=w(c.dataRef.domRef))==null||u.click()}t.closeMenu(),we(w(t.buttonRef));break;case E.ArrowDown:return s.preventDefault(),s.stopPropagation(),t.goToItem(S.Next);case E.ArrowUp:return s.preventDefault(),s.stopPropagation(),t.goToItem(S.Previous);case E.Home:case E.PageUp:return s.preventDefault(),s.stopPropagation(),t.goToItem(S.First);case E.End:case E.PageDown:return s.preventDefault(),s.stopPropagation(),t.goToItem(S.Last);case E.Escape:s.preventDefault(),s.stopPropagation(),t.closeMenu(),R(()=>{var c;return(c=w(t.buttonRef))==null?void 0:c.focus({preventScroll:!0})});break;case E.Tab:s.preventDefault(),s.stopPropagation(),t.closeMenu(),R(()=>It(w(t.buttonRef),s.shiftKey?te.Previous:te.Next));break;default:s.key.length===1&&(t.search(s.key),i.value=setTimeout(()=>t.clearSearch(),350));break}}function b(s){switch(s.key){case E.Space:s.preventDefault();break}}let f=Rt(),p=T(()=>f!==null?(f.value&H.Open)===H.Open:t.menuState.value===0);return()=>{var s,u;let c={open:t.menuState.value===0},{...v}=e,y={"aria-activedescendant":t.activeItemIndex.value===null||(s=t.items.value[t.activeItemIndex.value])==null?void 0:s.id,"aria-labelledby":(u=w(t.buttonRef))==null?void 0:u.id,id:r,onKeydown:m,onKeyup:b,role:"menu",tabIndex:0,ref:t.itemsRef};return X({ourProps:y,theirProps:v,slot:c,attrs:n,slots:o,features:ne.RenderStrategy|ne.Static,visible:p.value,name:"MenuItems"})}}}),qt=M({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:n,attrs:o,expose:l}){var a;let r=(a=e.id)!=null?a:"headlessui-menu-item-".concat(se()),t=Z("MenuItem"),i=x(null);l({el:i,$el:i});let m=T(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===r:!1),b=Ut(i),f=T(()=>({disabled:e.disabled,get textValue(){return b()},domRef:i}));q(()=>t.registerItem(r,f)),Re(()=>t.unregisterItem(r)),V(()=>{t.menuState.value===0&&m.value&&t.activationTrigger.value!==0&&R(()=>{var h,g;return(g=(h=w(i))==null?void 0:h.scrollIntoView)==null?void 0:g.call(h,{block:"nearest"})})});function p(h){if(e.disabled)return h.preventDefault();t.closeMenu(),we(w(t.buttonRef))}function s(){if(e.disabled)return t.goToItem(S.Nothing);t.goToItem(S.Specific,r)}let u=Mt();function c(h){u.update(h)}function v(h){u.wasMoved(h)&&(e.disabled||m.value||t.goToItem(S.Specific,r,0))}function y(h){u.wasMoved(h)&&(e.disabled||m.value&&t.goToItem(S.Nothing))}return()=>{let{disabled:h,...g}=e,$={active:m.value,disabled:h,close:t.closeMenu};return X({ourProps:{id:r,ref:i,role:"menuitem",tabIndex:h===!0?void 0:-1,"aria-disabled":h===!0?!0:void 0,onClick:p,onFocus:s,onPointerenter:c,onMouseenter:c,onPointermove:v,onMousemove:v,onPointerleave:y,onMouseleave:y},theirProps:{...o,...g},slot:$,attrs:o,slots:n,name:"MenuItem"})}}});const Gt={class:"inline-flex w-full justify-center p-2"},Xt={class:"p-1"},Zt=["onClick"],Jt=M({__name:"OptionsComponents",props:Ne({options:{},setIcon:{},isLeftDir:{type:Boolean}},{currentOption:{required:!0},currentOptionModifiers:{}}),emits:["update:currentOption"],setup(e){const n=e,o=x(n.options[0].label),l="".concat(Math.max(...n.options.map(t=>t.label.length))*17,"px"),a=t=>{r.value=t.name,o.value=t.label},r=Q(e,"currentOption");return(t,i)=>{const m=oe("Icon");return k(),N(_(Kt),{as:"div",class:"relative text-left text-sm font-semibold w-full h-full"},{default:F(()=>[t.setIcon?(k(),N(_(ge),{key:0,class:"hover:cursor-pointer w-full h-full p-5"},{default:F(()=>[I(m,{icon:t.setIcon,class:"w-full h-full"},null,8,["icon"])]),_:1})):(k(),N(_(ge),{key:1,class:"normal-button"},{default:F(()=>[d("div",Gt,[d("p",{class:"text-right mr-2",style:Ce({width:l})},U(_(o)),5),I(m,{icon:"ic:sharp-keyboard-arrow-down",class:"w-5 h-5"})])]),_:1})),I(je,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:F(()=>[I(_(Wt),{class:P(["absolute z-20  mt-2 w-56 border-stone-400 border bg-stone-100 shadow-lg ring-1 ring-black/5 focus:outline-none",t.isLeftDir?"origin-top-left left-0":"origin-top-right right-0"])},{default:F(()=>[d("div",Xt,[(k(!0),A(B,null,_e(t.options,b=>(k(),N(_(qt),{as:"template"},{default:F(({active:f})=>[d("button",{onClick:Y(p=>a(b),["stop"]),class:P([f?b.activeColor:b.color,"flex w-full items-center px-2 py-2 max-sm:text-sm"])},U(b.label),11,Zt)]),_:2},1024))),256))])]),_:1},8,["class"])]),_:1})]),_:1})}}}),Qt={class:"border-r border-l border-b border-stone-400"},Yt={class:"flex border-b border-stone-400 h-20 items-center"},en={class:"ml-auto border-l border-dashed w-20 h-20 border-stone-400"},tn={class:"border-l border-dashed border-stone-400 w-20 h-20 flex justify-center items-center"},nn={class:"flex p-5"},rn={class:"flex mt-5 py-2 px-3"},on=M({__name:"ArticleTempl",props:{propsArticleTempl:{}},setup(e){const n=e,o=T(()=>n.propsArticleTempl.history.map(u=>({label:u.tag,name:u.version.toString(),...We}))),l=n.propsArticleTempl.history.length,a=l>1?l-1:0,r=x(a),t=x(r.value.toString());Be(t,()=>{r.value=Number(t.value)});const i=T(()=>{const s=n.propsArticleTempl.history[r.value].articleHtmlRef,u=n.propsArticleTempl.history[r.value].isDomainFormat;return{articleHtmlRef:s,isDomainFormat:u}}),m=x(""),b=T(()=>[qe.REPORT]),f=T(()=>{var s;return(s=n.propsArticleTempl.analyze.rating)!=null?s:{}}),p=x({rated:n.propsArticleTempl.analyze.ratedLists||{nice:0,bad:0}});return(s,u)=>{const c=Jt,v=dt,y=at;return k(),A("div",Qt,[d("div",Yt,[d("span",en,[I(c,{"set-icon":"ic:round-history",options:_(o),"current-option":_(t),"onUpdate:currentOption":u[0]||(u[0]=h=>L(t)?t.value=h:null)},null,8,["options","current-option"])]),d("span",tn,[I(c,{"set-icon":"ic:sharp-more-horiz",options:_(b),"current-option":_(m),"onUpdate:currentOption":u[1]||(u[1]=h=>L(m)?m.value=h:null)},null,8,["options","current-option"])])]),d("div",nn,[I(v,{propsArticleTempl:_(i)},null,8,["propsArticleTempl"])]),d("div",rn,[I(y,{ratingTable:_(f),models_rated:_(p),"onUpdate:models_rated":u[2]||(u[2]=h=>L(p)?p.value=h:null)},null,8,["ratingTable","models_rated"])])])}}}),ln={class:"relative [--imageIsEditor:var(--color-stone-400)]/50 block"},sn={class:"relative h-full flex gap-1"},an={class:"p-1 h-10 w-10"},un={ref:"DeleteButton",class:"DeleteButton w-full h-full rounded hover:cursor-pointer hover:bg-stone-500 hover:text-stone-100 flex items-center justify-center"},cn=M({__name:"Image",setup(e,{expose:n}){const o=x(),l=x(),a=x(),r=x(),t=x(),i=f=>f>=1024*1024?Math.round(f/(1024*1024))+"MB":f>=1024?Math.round(f/1024)+"KB":f+"B";return n({formatFileSize:i,initImage:()=>{var f,p,s,u,c;l.value.src="",(f=o.value)==null||f.classList.remove("isEditor"),(p=a.value)==null||p.classList.remove("flex"),(s=a.value)==null||s.classList.add("hidden"),(u=r.value)==null||u.classList.remove("isOverText"),(c=t.value)==null||c.classList.add("hidden")},settingImage:(f,p=0)=>{var s,u,c,v,y;l.value.src=f,p&&(r.value.textContent=i(p),(s=o.value)==null||s.classList.add("isEditor"),(u=a.value)==null||u.classList.remove("hidden"),(c=a.value)==null||c.classList.add("flex"),p>de.FILESIZE&&((v=r.value)==null||v.classList.add("isOverText")),p>de.FILESIZE&&((y=t.value)==null||y.classList.remove("hidden")))}}),(f,p)=>{const s=oe("Icon");return k(),A("div",ln,[d("div",{ref_key:"Pattern",ref:o,class:P(["p-2 imageBackground flex w-full h-full"])},[d("img",{ref_key:"Image",ref:l,src:"",class:"imageSource flex object-cover rounded-lg max-sm:min-h-[270px] sm:h-[400px]"},null,512)],512),d("div",{ref_key:"Meta",ref:a,class:"hidden metaDiv absolute top-2 right-2 z-10 items-center h-10 bg-stone-200 rounded"},[d("span",sn,[d("p",{ref_key:"FileSizeText",ref:r,class:P(["imageSizeText flex h-full items-center px-2"])},"0kb",512),d("div",{ref_key:"IsFileSizeOverEffect",ref:t,class:P(["absolute h-3 w-3 right-0 top-0 imageSizeEffect hidden"])},p[0]||(p[0]=[d("span",{class:"animate-ping absolute h-3 w-3 rounded-full bg-red-600 opacity-75"},null,-1),d("span",{class:"absolute h-3 w-3 rounded-full bg-red-600"},null,-1)]),512)]),d("div",an,[d("button",un,[I(s,{icon:"ic:outline-close",class:"w-full h-full p-1"})],512)])],512)])}}}),dn=re(cn,[["__scopeId","data-v-f850bd22"]]),pn={class:"absolute -z-10"},fn={class:"[&>div]:xl:first:mt-[100px] [&>div]:md:first:mt-[80px] [&>div]:max-md:first:mt-[60px]"},mn={key:0,class:"flex w-full justify-between bg-stone-100"},vn={class:"xl:w-[600px] md:w-[400px] flex flex-col"},hn={class:"sticky top-[100px]"},bn={class:"text-stone-400 line-clamp-1 text-[0.8rem]"},gn={class:"line-clamp-1"},xn={class:"text-[1.2rem]"},_n={class:"line-clamp-1"},yn={class:"line-clamp-1"},wn={class:"flex flex-col xl:w-[calc(100%-600px)] md:w-[calc(100%-400px)]"},In={class:"w-full xl:max-w-[654px] md:max-w-[550px] xl:min-h-[calc(100dvh-100px-(1.25rem*2))] md:min-h-[calc(100dvh-80px-(1rem*2))] max-md:min-h-[calc(100dvh-60px)]"},Tn={class:"flex gap-3 mt-10 select-none"},En={key:1,class:"bg-stone-100 h-dvh"},Fn=M({__name:"ArticlePage",setup(e){const n=Ge(),o=Ue(),l=He(),a=T(()=>o.path.split("/")[1]),r=x("按順序"),t=x(),i=T(()=>{var h;return(h=t.value)==null?void 0:h.messages}),m=x(),b=async()=>{const h=await Xe(a.value);t.value=h.articles.value};q(()=>{b()});const f={index:"同領地",letsTalking:"開始聊",asking:"詢問",experience:"心得",feedback:"反饋意見"},p=T(()=>{var h,g,$,D;return n.aliasName=(g=(h=t.value)==null?void 0:h.alias)!=null?g:"letsTalking",(D=f[($=t.value)==null?void 0:$.alias])!=null?D:"a1*3/3."}),s=T(()=>{var g,$,D,C,z;const h=t.value?((g=t.value)==null?void 0:g.history.length)-1:0;return n.inArticleTitle=(D=($=t.value)==null?void 0:$.history[0].articleTitle)!=null?D:"",(z=(C=t.value)==null?void 0:C.history[h].articleTitle)!=null?z:"a1*3/3."}),u=()=>{var h;l.push("/"+((h=t.value)==null?void 0:h.alias))},c=x(),v=x(),y=h=>{var g,$;switch(h){case c.value.id:(g=c.value)==null||g.scrollIntoView();break;case v.value.id:($=v.value)==null||$.scrollIntoView();break}};return(h,g)=>{const $=Me,D=Ze,C=De,z=on,$e=Ye,Oe=Ae;return k(),A(B,null,[I($),d("div",pn,[j(I(dn,{ref_key:"imageFrameTempl",ref:m},null,512),[[Ve,!0]])]),d("div",fn,[_(t)?(k(),A("div",mn,[d("div",vn,[d("div",hn,[I(C,{class:"pt-5 flex flex-col xl:min-h-[calc(100dvh-100px-(1.25rem*2))] md:min-h-[calc(100dvh-80px-(1rem*2))] max-md:min-h-[calc(100dvh-60px)]"},{default:F(()=>[d("p",bn,[I(D,{text:"你處在"})]),d("p",gn,[I(D,{text:_(p)},null,8,["text"])]),d("h2",xn,[d("p",_n,[I(D,{text:_(s)},null,8,["text"])])]),d("button",{onClick:u,class:"mt-10 flex items-center gap-2 text-stone-400 font-bold text-[1.1rem] border p-2 hover:text-stone-700 hover:cursor-pointer line-clamp-1"},[d("p",yn,U("回到*".concat(_(p),"*討論區")),1)]),d("button",{onClick:g[0]||(g[0]=O=>y("top")),class:"mt-3 flex items-center gap-2 text-stone-400 font-bold text-[1.1rem] border p-2 hover:text-stone-700 hover:cursor-pointer"},g[7]||(g[7]=[d("p",{class:"line-clamp-1"},"最上方",-1)])),d("button",{onClick:g[1]||(g[1]=O=>y("msg")),class:"mt-3 flex items-center gap-2 text-stone-400 font-bold text-[1.1rem] border p-2 hover:text-stone-700 hover:cursor-pointer"},g[8]||(g[8]=[d("p",{class:"line-clamp-1"},"留言區",-1)]))]),_:1})])]),d("div",wn,[d("div",In,[d("div",{ref_key:"topElement",ref:c,id:"top",class:""},[I(z,{propsArticleTempl:_(t)},null,8,["propsArticleTempl"])],512),d("div",{ref_key:"msgElement",ref:v,id:"msg",class:"w-full"},[_(i)&&_(i).length>0?(k(),A(B,{key:0},[d("div",Tn,[d("div",null,[j(d("input",{type:"radio",id:"order",name:"msg",value:"按順序","onUpdate:modelValue":g[2]||(g[2]=O=>L(r)?r.value=O:null),class:"hidden peer"},null,512),[[K,_(r)]]),g[9]||(g[9]=d("label",{for:"order",class:"border-dashed border-2 border-transparent hover:border-stone-400 cursor-pointer text-[1rem] text-stone-400 peer-checked:bg-stone-400 peer-checked:text-white py-2 px-3 rounded-full"}," 按順序 ",-1))]),d("div",null,[j(d("input",{type:"radio",id:"newest",name:"msg",value:"最新","onUpdate:modelValue":g[3]||(g[3]=O=>L(r)?r.value=O:null),class:"hidden peer"},null,512),[[K,_(r)]]),g[10]||(g[10]=d("label",{for:"newest",class:"border-dashed border-2 border-transparent hover:border-stone-400 cursor-pointer text-[1rem] text-stone-400 peer-checked:bg-stone-400 peer-checked:text-white py-2 px-3 rounded-full"}," 最新 ",-1))]),d("div",null,[j(d("input",{type:"radio",id:"mostLiked",name:"msg",value:"最多讚","onUpdate:modelValue":g[4]||(g[4]=O=>L(r)?r.value=O:null),class:"hidden peer"},null,512),[[K,_(r)]]),g[11]||(g[11]=d("label",{for:"mostLiked",class:"border-dashed border-2 border-transparent hover:border-stone-400 cursor-pointer text-[1rem] text-stone-400 peer-checked:bg-stone-400 peer-checked:text-white py-2 px-3 rounded-full"}," 最多讚 ",-1))]),d("div",null,[j(d("input",{type:"radio",id:"worst",name:"msg",value:"最爛","onUpdate:modelValue":g[5]||(g[5]=O=>L(r)?r.value=O:null),class:"hidden peer"},null,512),[[K,_(r)]]),g[12]||(g[12]=d("label",{for:"worst",class:"border-dashed border-2 border-transparent hover:border-stone-400 cursor-pointer text-[1rem] text-stone-400 peer-checked:bg-stone-400 peer-checked:text-white py-2 px-3 rounded-full"}," 最爛 ",-1))])]),(k(!0),A(B,null,_e(_(i),O=>(k(),N($e,{propsMessageTempl:O},null,8,["propsMessageTempl"]))),256))],64)):(k(),N(C,{key:1,class:"flex justify-center mt-10"},{default:F(()=>[d("button",{class:"p-3 rounded border-2 border-dashed text-stone-400 border-stone-400 select-none hover:text-stone-700 hover:border-stone-700 cursor-pointer",onClick:g[6]||(g[6]=O=>_(l).push("/"))},"成為第一則留言！")]),_:1}))],512)])])])):(k(),A("div",En))]),I(Oe)],64)}}});export{Fn as default};
